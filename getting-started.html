<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第2章 基础入门 | webpack 入门教程</title>
    <meta name="description" content="持续更新中...">
    
    
    <link rel="preload" href="/assets/css/0.styles.f9563ee1.css" as="style"><link rel="preload" href="/assets/js/app.ac76fc45.js" as="script"><link rel="preload" href="/assets/js/2.5ebdbdf5.js" as="script"><link rel="preload" href="/assets/js/7.d5582872.js" as="script"><link rel="preload" href="/assets/js/3.32fa2c79.js" as="script"><link rel="prefetch" href="/assets/js/10.b124fc1d.js"><link rel="prefetch" href="/assets/js/11.33442fcb.js"><link rel="prefetch" href="/assets/js/12.8c1025e1.js"><link rel="prefetch" href="/assets/js/13.efcab1f6.js"><link rel="prefetch" href="/assets/js/14.28835ea1.js"><link rel="prefetch" href="/assets/js/15.50f7a17f.js"><link rel="prefetch" href="/assets/js/16.eab670f8.js"><link rel="prefetch" href="/assets/js/17.a1bdef0e.js"><link rel="prefetch" href="/assets/js/18.c93f17da.js"><link rel="prefetch" href="/assets/js/4.6b3b0a31.js"><link rel="prefetch" href="/assets/js/5.550a6898.js"><link rel="prefetch" href="/assets/js/6.92fb2d42.js"><link rel="prefetch" href="/assets/js/8.4c9a2050.js"><link rel="prefetch" href="/assets/js/9.4a5721bf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f9563ee1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">webpack 入门教程</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/lipengzhou/webpack-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/lipengzhou/webpack-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/introduction.html" class="sidebar-link">第1章 webpack 介绍</a></li><li><a href="/getting-started.html" class="active sidebar-link">第2章 基础入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started.html#准备" class="sidebar-link">准备</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#使用-webpack-打包" class="sidebar-link">使用 webpack 打包</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-javascript-模块" class="sidebar-link">打包 JavaScript 模块</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#webpack-哲学：一切皆模块" class="sidebar-link">webpack 哲学：一切皆模块</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#核心概念：loader" class="sidebar-link">核心概念：Loader</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包模式-mode" class="sidebar-link">打包模式 mode</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-css-资源" class="sidebar-link">打包 css 资源</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包图片" class="sidebar-link">打包图片</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-html-文件" class="sidebar-link">打包 HTML 文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started.html#配置压缩" class="sidebar-link">配置压缩</a></li></ul></li><li class="sidebar-sub-header"><a href="/getting-started.html#自动清空-dist-目录" class="sidebar-link">自动清空 dist 目录</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包字体文件" class="sidebar-link">打包字体文件</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-less" class="sidebar-link">打包 less</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-sass" class="sidebar-link">打包 sass</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#将-es6-转为-es5" class="sidebar-link">将 ES6 转为 ES5</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started.html#配置-babel-polyfill" class="sidebar-link">配置 babel-polyfill</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#配置-babel-缓存提高打包效率" class="sidebar-link">配置 babel 缓存提高打包效率</a></li></ul></li><li class="sidebar-sub-header"><a href="/getting-started.html#source-map" class="sidebar-link">Source Map</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#自动监视编译构建" class="sidebar-link">自动监视编译构建</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#webpack-dev-server" class="sidebar-link">webpack-dev-server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/getting-started.html#配置远程代理" class="sidebar-link">配置远程代理</a></li></ul></li><li class="sidebar-sub-header"><a href="/getting-started.html#配置热更新" class="sidebar-link">配置热更新</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#打包-vue-资源" class="sidebar-link">打包 .vue 资源</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#配置-eslint" class="sidebar-link">配置 ESLint</a></li><li class="sidebar-sub-header"><a href="/getting-started.html#区分打包环境" class="sidebar-link">区分打包环境</a></li></ul></li><li><a href="/advanced-concept.html" class="sidebar-link">第3章 高级概念</a></li><li><a href="/webpack-vue.html" class="sidebar-link">第4章 webpack 和 Vue</a></li><li><a href="/webpack-react.html" class="sidebar-link">第5章 webpack 和 React</a></li><li><a href="/webpack-angular.html" class="sidebar-link">第6章 webpack 和 Angular</a></li><li><a href="/build-performance.html" class="sidebar-link">第7章 webpack 性能优化</a></li><li><a href="/webpack-principle.html" class="sidebar-link">第8章 webpack 底层原理</a></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="第2章-基础入门"><a href="#第2章-基础入门" aria-hidden="true" class="header-anchor">#</a> 第2章 基础入门</h1> <h2 id="准备"><a href="#准备" aria-hidden="true" class="header-anchor">#</a> 准备</h2> <ol><li><p>创建 <code>webpack-demos</code> 学习目录</p></li> <li><p>初始化生成 <code>package.json</code> 文件</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> init
</code></pre></div><ol start="3"><li>创建 <code>webpack-demos/src</code> 目录</li> <li>在 <code>src</code> 目录中分别创建以下两个文件</li></ol> <p>index.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'./foo'</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre></div><p>foo.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是 foo 模块'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="5"><li>创建 webpack-demos/index.html  文件</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello webpack!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 浏览器无法直接运行模块源码 --&gt;</span>
  <span class="token comment">&lt;!-- &lt;script src=&quot;src/index.js&quot;&gt;&lt;/script&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="使用-webpack-打包"><a href="#使用-webpack-打包" aria-hidden="true" class="header-anchor">#</a> 使用 webpack 打包</h2> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D webpack webpack-cli
</code></pre></div><ol start="2"><li>创建 <code>webpack.config.js</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span> <span class="token comment">// 打包的入口</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 将打包结果放到 dist 目录中</span>
    filename<span class="token punctuation">:</span> <span class="token string">'main.js'</span> <span class="token comment">// 自定打包结果的文件名</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="3"><li>配置 <code>package.json</code> 中的 <code>scripts</code></li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demos&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
+   <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.config.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;D&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.29.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="4"><li>执行打包命令</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build
</code></pre></div><hr> <h2 id="打包-javascript-模块"><a href="#打包-javascript-模块" aria-hidden="true" class="header-anchor">#</a> 打包 JavaScript 模块</h2> <p>webpack 本身只支持 JavaScript 构建打包。</p> <blockquote><p>参考：</p> <ul><li>https://webpack.js.org/concepts/modules</li></ul></blockquote> <ul><li>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener noreferrer">ES2015 <code>import</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> statement
<ul><li>支持 ES6 模块</li> <li>webpack 1 需要单独配置才可以</li> <li>webpack 2+ 开箱即用</li> <li>推荐使用 ECMAScript 6</li></ul></li> <li>A <a href="http://www.commonjs.org/specs/modules/1.0/" target="_blank" rel="noopener noreferrer">CommonJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>require()</code> statement
<ul><li>支持 CommonJS 模块，也就是 Node.js 中使用的模块规则</li></ul></li> <li>An <a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md" target="_blank" rel="noopener noreferrer">AMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>define</code> and <code>require</code> statement
<ul><li>在没有打包工具之前的一种方式</li> <li>它是一个 JavaScript 库，可以在浏览器端实现模块化加载</li> <li>目前几乎已经被淘汰了。。。</li></ul></li> <li>An <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import" target="_blank" rel="noopener noreferrer"><code>@import</code> statement<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> inside of a css/sass/less file.
<ul><li>支持 css 中的 @import 语法</li></ul></li> <li>An image url in a stylesheet (<code>url(...)</code>) or html (<code>&lt;img src=...&gt;</code>) file.
<ul><li>支持样式文件中图片的 url 链接和 HTML 文件中 img 的 src 文件模块</li></ul></li></ul> <hr> <h2 id="webpack-哲学：一切皆模块"><a href="#webpack-哲学：一切皆模块" aria-hidden="true" class="header-anchor">#</a> webpack 哲学：一切皆模块</h2> <ul><li>不仅仅是 JavaScript</li> <li>css</li> <li>img</li> <li>json</li> <li>less</li> <li>sass</li> <li>字体文件</li> <li>。。。</li></ul> <h2 id="核心概念：loader"><a href="#核心概念：loader" aria-hidden="true" class="header-anchor">#</a> 核心概念：Loader</h2> <blockquote><p>webpack 本身只支持构建 JavaScript 资源，其它资源都需要使用不同的资源加载器</p></blockquote> <ul><li>css
<ul><li>样式资源加载器</li></ul></li> <li>img
<ul><li>图片资源加载器</li></ul></li> <li>json
<ul><li>json 资源加载器</li></ul></li> <li>。。。</li></ul> <h2 id="打包模式-mode"><a href="#打包模式-mode" aria-hidden="true" class="header-anchor">#</a> 打包模式 mode</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/configuration/mode" target="_blank" rel="noopener noreferrer">https://webpack.js.org/configuration/mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ul><li>production 生成模式构建
<ul><li>构建速度慢，有优化（压缩、优化了）</li></ul></li> <li>development 开发模式构建
<ul><li>构建速度快，没有优化（没有压缩等优化）</li></ul></li> <li>如果没有指定，则默认是 production</li></ul> <blockquote><p>建议：开发 development，生产 production</p></blockquote> <h2 id="打包-css-资源"><a href="#打包-css-资源" aria-hidden="true" class="header-anchor">#</a> 打包 css 资源</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/asset-management#loading-css" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/asset-management#loading-css<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev style-loader css-loader
</code></pre></div><ol start="2"><li>配置打包规则</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
      path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>     rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>       <span class="token punctuation">{</span>
<span class="token operator">+</span>         test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
<span class="token operator">+</span>         use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>           <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
<span class="token operator">+</span>           <span class="token string">'css-loader'</span>
<span class="token operator">+</span>         <span class="token punctuation">]</span>
<span class="token operator">+</span>       <span class="token punctuation">}</span>
<span class="token operator">+</span>     <span class="token punctuation">]</span>
<span class="token operator">+</span>   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>打包测试</li></ol> <h2 id="打包图片"><a href="#打包图片" aria-hidden="true" class="header-anchor">#</a> 打包图片</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/asset-management#loading-images" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/asset-management#loading-images<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev file-loader
</code></pre></div><ol start="2"><li>配置打包规则</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
      path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
          use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
            <span class="token string">'css-loader'</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">+</span>       <span class="token punctuation">{</span>
<span class="token operator">+</span>         test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
<span class="token operator">+</span>         use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>           <span class="token string">'file-loader'</span>
<span class="token operator">+</span>         <span class="token punctuation">]</span>
<span class="token operator">+</span>       <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>打包测试</li></ol> <hr> <h2 id="打包-html-文件"><a href="#打包-html-文件" aria-hidden="true" class="header-anchor">#</a> 打包 HTML 文件</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/output-management#setting-up-htmlwebpackplugin" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/output-management#setting-up-htmlwebpackplugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <blockquote><ol><li>我们应该把 HTML 文件也放到 dist 目录中，这样图片路径就可以解决了</li> <li>如果修改了打包结果的名字，还要手动改 HTML 文件中的引用路径</li> <li>HTML也应该打包，例如压缩之类的操作</li></ol></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev html-webpack-plugin
</code></pre></div><ol start="2"><li>配置打包规则</li></ol> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span> <span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token operator">+</span>   plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>     <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">+</span>       template<span class="token punctuation">:</span> <span class="token string">'./index.html'</span>
<span class="token operator">+</span>     <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">+</span>   <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>打包测试</li></ol> <h3 id="配置压缩"><a href="#配置压缩" aria-hidden="true" class="header-anchor">#</a> 配置压缩</h3> <blockquote><p>参考：</p> <ul><li><p><a href="https://github.com/jantimon/html-webpack-plugin#minification" target="_blank" rel="noopener noreferrer">https://github.com/jantimon/html-webpack-plugin#minification<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://github.com/kangax/html-minifier" target="_blank" rel="noopener noreferrer">https://github.com/kangax/html-minifier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></blockquote> <p>例如配置压缩HTML文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'Output Management'</span><span class="token punctuation">,</span>
      minify<span class="token punctuation">:</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>       removeComments<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 删除注释</span>
<span class="token operator">+</span>       collapseWhitespace<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 去除回车换行空格</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h2 id="自动清空-dist-目录"><a href="#自动清空-dist-目录" aria-hidden="true" class="header-anchor">#</a> 自动清空 dist 目录</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/output-management#cleaning-up-the-dist-folder" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/output-management#cleaning-up-the-dist-folder<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev clean-webpack-plugin
</code></pre></div><ol start="2"><li>配置规则</li></ol> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span> <span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>     <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'Output Management'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>打包测试</li></ol> <h2 id="打包字体文件"><a href="#打包字体文件" aria-hidden="true" class="header-anchor">#</a> 打包字体文件</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/asset-management#loading-fonts" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/asset-management#loading-fonts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>在配置规则的 module-rules 中增加</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">+</span>       <span class="token punctuation">{</span>
<span class="token operator">+</span>         test<span class="token punctuation">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf|otf)$/</span><span class="token punctuation">,</span>
<span class="token operator">+</span>         use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
<span class="token operator">+</span>           <span class="token string">'file-loader'</span>
<span class="token operator">+</span>         <span class="token punctuation">]</span>
<span class="token operator">+</span>       <span class="token punctuation">}</span>
</code></pre></div><h2 id="打包-less"><a href="#打包-less" aria-hidden="true" class="header-anchor">#</a> 打包 less</h2> <blockquote><p>参考：</p> <ul><li>https://webpack.js.org/loaders/less-loader/</li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> less-loader <span class="token function">less</span> css-loader style-loader --save-dev
</code></pre></div><ol start="2"><li>配置</li></ol> <p>在配置规则的 module.rules 中新增</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// 3. 生成 style 节点插入 DOM</span>
    <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// 2. 将 css 转为 JavaScript 模块</span>
    <span class="token string">'less-loader'</span> <span class="token comment">// 1. 将 less 转为 css</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>测试</li></ol> <h2 id="打包-sass"><a href="#打包-sass" aria-hidden="true" class="header-anchor">#</a> 打包 sass</h2> <blockquote><p>参考：</p> <ul><li>https://webpack.js.org/loaders/sass-loader</li></ul></blockquote> <h2 id="将-es6-转为-es5"><a href="#将-es6-转为-es5" aria-hidden="true" class="header-anchor">#</a> 将 ES6 转为 ES5</h2> <blockquote><p>参考：</p> <ul><li>https://webpack.js.org/loaders/babel-loader</li> <li><a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">https://babeljs.io/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D babel-loader @babel/core @babel/preset-env webpack
</code></pre></div><ol start="2"><li>在module.rules中新增配置</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
  exclude<span class="token punctuation">:</span> <span class="token regex">/(node_modules|bower_components)/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>测试</li></ol> <h3 id="配置-babel-polyfill"><a href="#配置-babel-polyfill" aria-hidden="true" class="header-anchor">#</a> 配置 babel-polyfill</h3> <blockquote><p>参考：</p> <ul><li>https://babeljs.io/docs/en/babel-polyfill</li></ul></blockquote> <ol><li>安装依赖</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save @babel/polyfill
</code></pre></div><ol start="2"><li>配置：在入口模块顶部加载</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token string">'@babel/polyfill'</span>
<span class="token operator">...</span>
</code></pre></div><ol start="3"><li>测试</li></ol> <h3 id="配置-babel-缓存提高打包效率"><a href="#配置-babel-缓存提高打包效率" aria-hidden="true" class="header-anchor">#</a> 配置 babel 缓存提高打包效率</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token comment">// 以 .mjs 或者 .js 结尾的文件使用 babel-loader 处理(ES6转ES5)</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
  exclude<span class="token punctuation">:</span> <span class="token regex">/(node_modules)/</span><span class="token punctuation">,</span> <span class="token comment">// 排除不转换第三方包，一般的第三方包都是转换之后的</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 转码规则</span>
<span class="token operator">+</span>      cacheDirectory<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// 配置babel打包结果缓存，默认会将转换结果缓存到 node_modules/.cache 目录中</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="source-map"><a href="#source-map" aria-hidden="true" class="header-anchor">#</a> Source Map</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/development#using-source-maps" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/development#using-source-maps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://webpack.js.org/configuration/devtool" target="_blank" rel="noopener noreferrer">https://webpack.js.org/configuration/devtool<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <p>当 webpack 打包源代码时，可能会很难追踪到 error(错误) 和 warning(警告) 在源代码中的原始位置。例如，如果将三个源文件（<code>a.js</code>, <code>b.js</code> 和 <code>c.js</code>）打包到一个 bundle（<code>bundle.js</code>）中，而其中一个源文件包含一个错误，那么堆栈跟踪就会直接指向到 <code>bundle.js</code>。你可能需要准确地知道错误来自于哪个源文件，所以这种提示这通常不会提供太多帮助。</p> <p>为了更容易地追踪 error 和 warning，JavaScript 提供了 <a href="http://blog.teamtreehouse.com/introduction-source-maps" target="_blank" rel="noopener noreferrer">source map<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 功能，可以将编译后的代码映射回原始源代码。如果一个错误来自于 <code>b.js</code>，source map 就会明确的告诉你。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    mode<span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">:</span> <span class="token string">'./src/index.js'</span><span class="token punctuation">,</span>
      print<span class="token punctuation">:</span> <span class="token string">'./src/print.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   devtool<span class="token punctuation">:</span> <span class="token string">'inline-source-map'</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'Development'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">'[name].bundle.js'</span><span class="token punctuation">,</span>
      path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>扩展阅读：</p> <ul><li><a href="http://www.ruanyifeng.com/blog/2013/01/javascript_source_map.html" target="_blank" rel="noopener noreferrer">JavaScript Source Map 详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blog.teamtreehouse.com/introduction-source-maps" target="_blank" rel="noopener noreferrer">An Introduction to Source Maps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li><a href="https://juejin.im/post/5bd65e1ae51d457aa071feaa" target="_blank" rel="noopener noreferrer">译文<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></blockquote> <h2 id="自动监视编译构建"><a href="#自动监视编译构建" aria-hidden="true" class="header-anchor">#</a> 自动监视编译构建</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/development#using-watch-mode" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/development#using-watch-mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h2 id="webpack-dev-server"><a href="#webpack-dev-server" aria-hidden="true" class="header-anchor">#</a> webpack-dev-server</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/development#using-webpack-dev-server" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/development#using-webpack-dev-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://webpack.js.org/configuration/dev-server" target="_blank" rel="noopener noreferrer">https://webpack.js.org/configuration/dev-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <ul><li>启动 http 服务</li> <li>监视构建</li> <li>自动刷新浏览器</li></ul> <h3 id="配置远程代理"><a href="#配置远程代理" aria-hidden="true" class="header-anchor">#</a> 配置远程代理</h3> <blockquote><p>参考：</p> <ul><li><p>示例：<a href="https://webpack.js.org/configuration/dev-server#devserverproxy" target="_blank" rel="noopener noreferrer">https://webpack.js.org/configuration/dev-server#devserverproxy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>具体细节：<a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">https://github.com/chimurai/http-proxy-middleware<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></blockquote> <p>跨域：</p> <ul><li>JSONP
<ul><li>只能 GET 请求</li> <li>仅仅适用于展示（数据获取）类的网站</li> <li>管理系统不可能使用 JSONP</li></ul></li> <li>CORS 后端跨域
<ul><li>服务端在响应头中添加 Access-Control-Allow-Origin: 域名或者*任意</li> <li>客户端什么都不需要做</li> <li>如果后端使用到了基于 Cookie  的一些功能，那么在 CORS 下发送的请求需要单独设置 Cookie 跨域</li> <li>例如在使用 Axios 的时候，可以配置 Cookie 跨域</li> <li>文档：<a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">https://github.com/axios/axios<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>withCredentials: true</li> <li>扩展阅读：<a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener noreferrer">http://www.ruanyifeng.com/blog/2016/04/cors.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li>代理
<ul><li>自己配置</li> <li>只要是服务器软件就可以配置代理解决跨域问题</li> <li>例如我们使用 webpack-dev-server 就可以配置代理远程服务解决跨域</li> <li>原理：服务端也能发请求，服务端请求是没有跨域限制的</li></ul></li></ul> <p><img src="/assets/img/1554342113665.ee3d47b5.png" alt="1554342113665"></p> <h2 id="配置热更新"><a href="#配置热更新" aria-hidden="true" class="header-anchor">#</a> 配置热更新</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/hot-module-replacement" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/hot-module-replacement<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote> <h2 id="打包-vue-资源"><a href="#打包-vue-资源" aria-hidden="true" class="header-anchor">#</a> 打包 .vue 资源</h2> <blockquote><p>参考：</p> <ul><li>https://vue-loader.vuejs.org/zh/guide/#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AE</li></ul></blockquote> <h2 id="配置-eslint"><a href="#配置-eslint" aria-hidden="true" class="header-anchor">#</a> 配置 ESLint</h2> <ul><li>参考：</li> <li><ul><li>示例：<a href="https://webpack.js.org/loaders/eslint-loader" target="_blank" rel="noopener noreferrer">https://webpack.js.org/loaders/eslint-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>详细：<a href="https://github.com/webpack-contrib/eslint-loader" target="_blank" rel="noopener noreferrer">https://github.com/webpack-contrib/eslint-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul> <h2 id="区分打包环境"><a href="#区分打包环境" aria-hidden="true" class="header-anchor">#</a> 区分打包环境</h2> <blockquote><p>参考：</p> <ul><li><a href="https://webpack.js.org/guides/production" target="_blank" rel="noopener noreferrer">https://webpack.js.org/guides/production<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/lipengzhou/webpack-tutorial/edit/master/docs/getting-started.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2019-04-05 02:53:28</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/introduction.html" class="prev">
          第1章 webpack 介绍
        </a></span> <span class="next"><a href="/advanced-concept.html">
          第3章 高级概念
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.ac76fc45.js" defer></script><script src="/assets/js/2.5ebdbdf5.js" defer></script><script src="/assets/js/7.d5582872.js" defer></script><script src="/assets/js/3.32fa2c79.js" defer></script>
  </body>
</html>
